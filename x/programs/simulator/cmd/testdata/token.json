{
   "name":"token program",
   "description":"Deploy and execute token program",
   "callerKey":"alice_key",
   "config":{
      "maxMemoryPages":18
   },
   "steps":[
      {
         "name":"create_key",
         "description":"create alice key",
         "keyName":"alice_key"
      },
      {
         "name":"create_key",
         "description":"create bob key",
         "keyName":"bob_key"
      },
      {
         "name":"deploy",
         "description":"deploy a new token program",
         "programPath":"../../examples/testdata/token.wasm",
         "maxFee":100000
      },
      {
         "name":"call",
         "description":"init",
         "function":"init",
         "programID":"inherit",
         "maxFee":100000
      },
      {
         "name":"call",
         "description":"mint to alice",
         "function":"mint_to",
         "programID":"inherit",
         "maxFee":100000,
         "params":[
            {
               "type":"key",
               "value":"alice_key"
            },
            {
               "type":"uint64",
               "value":10000
            }
         ],
         "require":{
            "result":{
               "operator":"==",
               "operand":1
            }
         }
      },
      {
         "name":"call",
         "description":"get token balance",
         "function":"get_total_supply",
         "programID":"inherit",
         "maxFee":100000,
         "require":{
            "result":{
               "operator":"==",
               "operand":123456789
            }
         }
      },
      {
         "name":"call",
         "description":"transfer 100 from alice to bob",
         "function":"transfer",
         "programID":"inherit",
         "maxFee":100000,
         "params":[
            {
               "type":"key",
               "value":"alice_key"
            },
            {
               "type":"key",
               "value":"bob_key"
            },
            {
               "type":"uint64",
               "value":100
            }
         ],
         "require":{
            "result":{
               "operator":"==",
               "operand":1
            }
         }
      },
      {
         "name":"call",
         "description":"get alice token balance",
         "function":"get_balance",
         "programID":"inherit",
         "maxFee":100000,
         "params":[
            {
               "type":"key",
               "value":"alice_key"
            }
         ],
         "require":{
            "result":{
               "operator":"==",
               "operand":9900
            }
         }
      },
      {
         "name":"call",
         "description":"get bob token balance",
         "function":"get_balance",
         "programID":"inherit",
         "maxFee":100000,
         "params":[
            {
               "type":"key",
               "value":"bob_key"
            }
         ],
         "require":{
            "result":{
               "operator":"==",
               "operand":100
            }
         }
      }
   ]
}
